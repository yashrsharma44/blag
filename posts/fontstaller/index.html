<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
        <meta
        content="text/html; charset=utf-8" http-equiv="content-type"/> <!-- Enable responsiveness on mobile devices-->
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport"/>
        <title>
            
    The Blag - Fontstaller

        </title>
        <link href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;favicon.ico" rel="icon" type="image/x-icon"/>
        
            <link rel="alternate" type= "application/atom+xml"  title="RSS" href="https://www.xypnox.com/blag/atom.xml"/>
        
        
        
    <meta content="website" property="og:type"/>
    <meta content="The Blag" property="og:site_name"/>
    <meta content="https://www.xypnox.com/blag/posts/fontstaller/" property="og:url"/>
    <meta content="https://www.xypnox.com/blag/posts/fontstaller/" property="twitter:url"/>
    
        <meta content="Fontstaller" property="og:title"/>
        <meta content="Fontstaller" property="twitter:title"/>
    
    
    
        <meta content="summary_large_image" property="twitter:card"/>
        <meta content="https://www.xypnox.com/blag/images/cover.png" property="og:image"/>
        <meta content="https://www.xypnox.com/blag/images/cover.png" property="twitter:image"/>
    

        
        
            <script src="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;slideout.min.js" type="text/javascript"></script>
            
        
        
            <link href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;site.css" rel="stylesheet"/>
            <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet"/>
            <link charset="utf-8" href="https://indestructibletype.com/fonts/Jost.css" rel="stylesheet" type="text/css"/>
            
        
        
    </head>
    <body>
        <script>
            (function initTheme() {
                let body = document.getElementsByTagName("body")[0];
                if (window.localStorage.getItem("theme") !== null) {
                    if (window.localStorage.getItem("theme") === "dark") {
                        body.setAttribute("data-theme", "dark");
                    } else {
                        body.setAttribute("data-theme", "light");
                    }
                } else {
                    if (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) {
                        body.setAttribute("data-theme", "dark");
                    }
                }
            })();
        </script>
        <div class="container">
            <div class="mobile-navbar" id="mobile-navbar">
                <div class="mobile-header-logo">
                    <a class="logo" href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag">The Blag</a>
                </div>
                <div class="mobile-navbar-icon icon-out">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <nav class="mobile-menu slideout-menu slideout-menu-left" id="mobile-menu">
                <ul class="mobile-menu-list">
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;categories">
                                Categories
                            </a>
                        </li>
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;tags">
                                Tags
                            </a>
                        </li>
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;quotes">
                                Quotes
                            </a>
                        </li>
                    
                        <li class="mobile-menu-item">
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;about">
                                About
                            </a>
                        </li>
                    
                    <li class="mobile-menu-item">
                        <div class="theme-switcher">
                            
    <div class="theme-button" onClick="toggleTheme()">
        <label for="cb1">
            <svg
                id="dayIcon"
                style="enable-background:new 0 0 35 35;"
                version="1.1"
                viewBox="0 0 35 35"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <g id="Sun">
                    <g>
                        <path
                            d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5 S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z
                                M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5
                                C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6
                                C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9
                                c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44
                                l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5
                                c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06 L6.439,8.561z
                                M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z
                                M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2
                                C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29
                                c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7
                                C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5
                                c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"
                            style="fill-rule:evenodd;clip-rule:evenodd;"/>
                    </g>
                </g>
            </svg>
        </label>
        <input class="toggle" id="cb1" onClick="toggleTheme()" type="checkbox"/>
        <label class="toggle-button" for="cb1"></label>
        <label for="cb1">
            <svg
                enable-background="new 0 0 100 100"
                id="nightIcon"
                version="1.1"
                viewBox="0 0 100 100"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571
                C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23
                c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369
                c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65 c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"/>
            </svg>
        </label>
    </div>

                        </div>
                    </li>
                </ul>
            </nav>
            
                
    <header id="header">
        <div class="logo">
            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag">The Blag</a>
        </div>
        
    <nav class="menu">
        <ul>
            
                <li>
                    <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;categories">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;tags">
                        Tags
                    </a>
                </li>
            
                <li>
                    <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;quotes">
                        Quotes
                    </a>
                </li>
            
                <li>
                    <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;about">
                        About
                    </a>
                </li>
            
            <div class="theme-switcher">
                
    <div class="theme-button" onClick="toggleTheme()">
        <label for="cb1">
            <svg
                id="dayIcon"
                style="enable-background:new 0 0 35 35;"
                version="1.1"
                viewBox="0 0 35 35"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <g id="Sun">
                    <g>
                        <path
                            d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5 S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z
                                M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5
                                C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6
                                C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9
                                c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44
                                l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5
                                c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06 L6.439,8.561z
                                M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z
                                M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2
                                C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29
                                c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7
                                C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5
                                c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"
                            style="fill-rule:evenodd;clip-rule:evenodd;"/>
                    </g>
                </g>
            </svg>
        </label>
        <input class="toggle" id="cb1" onClick="toggleTheme()" type="checkbox"/>
        <label class="toggle-button" for="cb1"></label>
        <label for="cb1">
            <svg
                enable-background="new 0 0 100 100"
                id="nightIcon"
                version="1.1"
                viewBox="0 0 100 100"
                x="0px"
                xml:space="preserve"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                xmlns="http://www.w3.org/2000/svg"
                y="0px">
                <path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571
                C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23
                c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369
                c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65 c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"/>
            </svg>
        </label>
    </div>

            </div>
        </ul>
    </nav>

    </header>

            
            <main>
                <div class="content" id="mobile-panel"> 
    
        <div class="post-toc" id="post-toc">
            <div class="toc-wrapper">
                <h2 class="post-toc-title">Contents</h2>
                <div class="post-toc-content always-active">
                    <nav id="TableOfContents">
                        <ul>
                            
                                <li>
                                    <a class="toc-link" href="https://www.xypnox.com/blag/posts/fontstaller/#the-program-itself-fontstaller">The program itself: FontStaller</a>
                                    
                                </li>
                            
                                <li>
                                    <a class="toc-link" href="https://www.xypnox.com/blag/posts/fontstaller/#tricks">Tricks</a>
                                    
                                        <ul>
                                            
                                                <li>
                                                    <a class="toc-link" href="https://www.xypnox.com/blag/posts/fontstaller/#splitting-and-slicing-simultaneously">Splitting and slicing simultaneously</a>
                                                </li>
                                            
                                                <li>
                                                    <a class="toc-link" href="https://www.xypnox.com/blag/posts/fontstaller/#parsing-command-line-parameters-in-python">Parsing command-line parameters in python</a>
                                                </li>
                                            
                                        </ul>
                                    
                                </li>
                            
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    
    <article class="post">
        
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;posts&#x2F;fontstaller&#x2F;">Fontstaller</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2018-05-18</span>
            
                <div class="post__category">
                    
                        <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;categories&#x2F;tech&#x2F;">tech</a>
                    
                </div>
            
        </div>
    </header>

        <div class="post-content">
            <div class="cover-image">
  <img src="&#x2F;blag&#x2F;images&#x2F;fontstaller-cover.jpg"/>
  <p class="desc">
    Install fonts quickly on linux
  </p>
</div>
<p>I have had troubles installing fonts in Linux. Although its far easier than Windows where the only way to install a bunch of fonts is to open the file and click install fonts. In Linux however, you can copy your fonts to <code>~/.fonts</code> or <code>/usr/share/fonts</code> and they will be recognized by all the applications. But can this process be improved or streamlined?</p>
<p>The main problem that I was facing was that while many sites offered fonts for free they were usually zipped/archived. Which meant that they would have to be manually unarchived one by one to install the fonts, which considering the number of fonts (36!) I wanted to install at the time was way too much. So clearly I needed a script to unzip and copy the font files in <code>~/.fonts</code>. The problem was that although the <code>unzip</code> command is fairly straightforward and could be used I didn't have much control over it.</p>
<p>So I searched some more and stumbled upon the fact that python comes preloaded with a zip archive reading library named <code>zipfile</code>. And I could use it to spin up a small python script to make the extraction process &quot;smart&quot;. By smart, I mean that the program could differentiate between a directory containing fonts and archives containing fonts. It can also work with nested directory structure and even detect whether a font has been preinstalled or not.</p>
<h2 id="the-program-itself-fontstaller">The program itself: FontStaller</h2>
<p><img src="https://raw.githubusercontent.com/xypnox/fontstaller/master/fontstaller-logo.png" alt="Logo" /></p>
<blockquote>
<p>You can find the code in the GitHub repo <a href="https://github.com/xypnox/fontstaller/">xypnox/fontstaller</a>.</p>
</blockquote>
<p>At the default settings, the Fontstaller script installs the fonts located in the folder <code>fonts</code> in the current directory. It installs all the zips that have a font file. Or any (sub - sub ...) subdirectory (ies) that have a font file (generally ttf, otf).</p>
<p>The fonts are by default copied to the folder <code>~/.fonts</code>. An interesting point to note is that the directory structure of your initial <code>fonts</code> folder is <em>not</em> preserved. This is to simplify distinguishing already installed fonts. This way the script can easily check only folder names in <code>~/.fonts</code> and doesn't have to deal with subdirectory structure.</p>
<p>There are a few command line options to tweak the behavior of the script, they are mentioned as follows:</p>
<table><thead><tr><th>argument</th><th>default</th><th>description</th></tr></thead><tbody>
<tr><td>-h, --help</td><td></td><td>show help message and exit</td></tr>
<tr><td>--fdir</td><td>'fonts'</td><td>directory containing fonts</td></tr>
<tr><td>--idir</td><td>'~/.fonts'</td><td>directory in which fonts will be installed</td></tr>
<tr><td>--ignorezip</td><td></td><td>Ignore zipped files</td></tr>
</tbody></table>
<p>I know there are few bugs that still exist. Such as the fact that the script doesn't deal well with subdirectory structure in the archived files. However, it is still quite useful.</p>
<p>If you are interested in the fonts I was installing, check this <a href="https://github.com/xypnox/fontstaller/releases/download/v1.0.0/fonts.zip">archived zip</a></p>
<hr />
<h2 id="tricks">Tricks</h2>
<p>I learned a few new tricks about python scripting that I would share here.</p>
<h3 id="splitting-and-slicing-simultaneously">Splitting and slicing simultaneously</h3>
<p>You split and slice simultaneously by just splicing the output of Splitting command. For example, the line in my code that uses it is :</p>
<pre style="background-color:#212121;">
<code><span style="color:#eeffff;">idir </span><span style="color:#89ddff;">= </span><span style="color:#eeffff;">args</span><span style="color:#89ddff;">.</span><span style="color:#eeffff;">idir </span><span style="color:#89ddff;">+ &#39;</span><span style="color:#c3e88d;">/</span><span style="color:#89ddff;">&#39; + </span><span style="color:#82aaff;">zfile</span><span style="color:#89ddff;">.</span><span style="color:#82aaff;">split</span><span style="color:#89ddff;">(&#39;</span><span style="color:#c3e88d;">/</span><span style="color:#89ddff;">&#39;)[-</span><span style="color:#f78c6c;">1</span><span style="color:#89ddff;">][:-</span><span style="color:#f78c6c;">4</span><span style="color:#89ddff;">]
</span></code></pre>
<p>Here I needed only the name of the archive without the <code>.zip</code> extension. So I first split the string using <code>/</code> then slice the last element till the fifth last character. Pretty neat.</p>
<h3 id="parsing-command-line-parameters-in-python">Parsing command-line parameters in python</h3>
<p>I know its quite dumb to say it's a trick but it took me several readings of Manual and a few different command line parsing methods to flat this one out. I finally ended up using the <code>argparse</code> package which is a little hard, to begin with, but offers a great amount of flexibility and nice user experience such as auto-generated <code>help</code> command!</p>
<p>It is too much, to begin with, so I will simply link to its Manual page in Python : <a href="https://docs.python.org/3.6/library/argparse.html">Argparse</a>.</p>

        </div>
        
        <div
            class="end-post">
        </div>
        <div class="post-footer">
            
                
                    <div class="post-tags">
                        
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;tags&#x2F;tech&#x2F;">
                                <span class="hashtag">#</span>
                                tech</a>
                        
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;tags&#x2F;project&#x2F;">
                                <span class="hashtag">#</span>
                                project</a>
                        
                            <a href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;tags&#x2F;linux&#x2F;">
                                <span class="hashtag">#</span>
                                linux</a>
                        
                    </div>
                
                
                    <div class="post-nav">
                        
                            <a class="previous" href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;posts&#x2F;misfits&#x2F;">‹ Misfits</a>
                        
                        
                            <a class="next" href="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;posts&#x2F;design-tips&#x2F;">Design Tips ›</a>
                        
                        
                        
                    </div>
                
                
    <h1>Comments</h1>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "https://www.xypnox.com/blag/posts/fontstaller/";
            this.page.identifier = "fontstaller";
        };
        (function () {
            var d = document,
                s = d.createElement("script");
            s.src = "https://xypnox-blag.disqus.com/embed.js";
            s.setAttribute("data-timestamp", + new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the
        <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

            
        </div>
        
    </article>

                    
                        <footer>
                            <div class="copyright">
                                &#169;<script>
                                    document.write(new Date().getFullYear());
                                </script>
                                xypnox
                            </div>
                            <div class="made-with">
                                Made with
                                <a href="https://www.getzola.org/" rel="noopener noreferrer" target="_blank">Zola</a>,
                                <a href="https://github.com/xypnox/blag/tree/master/themes/xyblag" rel="noopener noreferrer" target="_blank">Theme</a>
                                by
                                <a href="https://www.xypnox.com/" rel="noopener noreferrer" target="_blank">xypnox</a>.
                            </div>
                        </footer>
                    
                </div>
            </main>
        </div>
        
            <script src="https:&#x2F;&#x2F;www.xypnox.com&#x2F;blag&#x2F;main.js" type="text/javascript"></script>
        
    </body>
</html>